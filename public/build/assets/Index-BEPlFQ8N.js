import{V as S,b as c,j as e,M as k,U as b,h as u}from"./app-DglVr3fR.js";import{P as C}from"./Pagination--T4n3M8R.js";import{A as D}from"./AuthenticatedLayout-Cs9fQXr5.js";import{L as E,y as r}from"./index-DGvG9ssq.js";import"./transition-CJ89gXOu.js";function M({category:o}){var f;S().props;const[v,h]=c.useState(""),[l,d]=c.useState(""),[p,n]=c.useState(""),[x,i]=c.useState("active"),[m,j]=c.useState("add"),y=(s,t)=>{s.preventDefault(),h(t.id),d(t.name),n(t.detail),i(t.status),j("edit")},g=(s,t)=>{s.preventDefault(),u.delete(route("category.destroy",t.id),{onSuccess:a=>{var N;(N=a.props.flash)!=null&&N.message?r.success(a.props.flash.message):r.error("An unexpected error occurred.")},onError:a=>{r.error("Failed to delete the category. Please check your input."),console.error(a)}})},w=s=>{if(s.preventDefault(),l==""){r.error("Nama tidak boleh kosong");return}m=="edit"?u.put(route("category.update",v),{name:l,detail:p,status:x},{onSuccess:t=>{var a;(a=t.props.flash)!=null&&a.success?r.success(t.props.flash.success):r.error("An unexpected error occurred.")},onError:t=>{r.error("Failed to save the category. Please check your input."),console.error(t)}}):u.post(route("category.store"),{name:l,detail:p,status:x},{onSuccess:t=>{var a;(a=t.props.flash)!=null&&a.success?(r.success(t.props.flash.success),h(""),d(""),n(""),i("active")):r.error("An unexpected error occurred.")},onError:t=>{r.error("Failed to save the category. Please check your input."),console.error(t)}})};return e.jsxs(D,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Category"}),children:[e.jsx(k,{title:"Category"}),e.jsx(E,{}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex p-2",children:[e.jsxs("div",{className:"w-4/5 overflow-x-auto p-1 shadow-sm rounded-md w-full",children:[e.jsxs("table",{className:"min-w-full text-left text-sm font-light bg-white border shadow-md",children:[e.jsx("thead",{className:"border-b border-neutral-300 font-medium bg-slate-100/50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"#"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nama"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Detail"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Aksi"})]})}),e.jsx("tbody",{children:(f=o==null?void 0:o.data)==null?void 0:f.map((s,t)=>e.jsxs("tr",{className:"border-neutral-200 bg-white botder-t",children:[e.jsx("td",{scope:"col",className:"whitespace-nowrap px-6 py-3",children:t+1}),e.jsx("td",{scope:"col",className:"whitespace-nowrap px-6 py-3",children:s.name}),e.jsx("td",{scope:"col",className:"whitespace-nowrap px-6 py-3",children:s.status}),e.jsx("td",{scope:"col",className:"whitespace-nowrap px-6 py-3",children:s.detail}),e.jsxs("td",{scope:"col",className:"whitespace-nowrap py-3 flex gap-2",children:[e.jsx(b,{onClick:a=>y(a,s),className:"text-blue-500",children:"Edit"}),e.jsx(b,{onClick:a=>g(a,s),className:"text-red-500",children:"Delete"})]})]}))})]}),e.jsx(C,{data:o})]}),e.jsx("div",{className:"w-1/5 bg-white py-6 mx-2 shadow-sm rounded-md mx-auto",children:e.jsx("div",{className:"flex justify-between items-center px-6 gap-4",children:e.jsxs("form",{className:"w-full",children:[e.jsx("div",{children:m=="edit"?e.jsxs("div",{children:[e.jsxs("h2",{className:"font-bold text-lg",children:["Edit Kategori",e.jsx("button",{className:"btn bg-green-500 text-white font-thin rounded-sm px-2 py-1 text-sm mx-2",onClick:s=>{h(""),j("add"),d(""),n(""),i("active")},children:"Reset"})]}),e.jsxs("span",{className:"font-thin ",children:['"',l,'" ']})]}):e.jsx("div",{children:e.jsx("h2",{className:"font-bold text-lg",children:"Tambah Kategori"})})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",children:"Nama"}),e.jsx("input",{value:l,onChange:s=>d(s.target.value),name:"name",className:"rounded-md lg:w-full py-3 border border-slate-300",type:"text"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"detail",children:"Detail"}),e.jsx("input",{value:p,onChange:s=>n(s.target.value),name:"detail",className:"rounded-md lg:w-full py-3 border border-slate-300",type:"text"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{value:x,onChange:s=>i(s.target.value),name:"status",id:"",className:" w-full rounded-md lg-w-full py-3 border border-slate-300",children:[e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("button",{onClick:s=>w(s),className:"w-full bg-blue-500 rounded p-2 text-white",children:"Simpan"})})]})})})]})})})]})}export{M as default};
